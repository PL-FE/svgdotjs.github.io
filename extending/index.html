
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <title>SVG.js | Extending</title>
    <meta name="description" content="Due to the Object Oriented nature of SVG.js, objects/prototypes can be extended on any level. The invent() method provides a convenient way.">
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@svg_js" />
    <meta name="twitter:creator" content="@svg_js" />
    <meta property="og:url" content="https://svgdotjs.github.io//extending" />
    <meta property="og:title" content="Extending" />
    <meta property="og:description" content="Due to the Object Oriented nature of SVG.js, objects/prototypes can be extended on any level. The invent() method provides a convenient way." />
    <meta property="og:image" content="https://svgdotjs.github.io//assets/images/logo-svg-js-01d.png" />

    <meta name="viewport" content="width=device-width">
    <link rel="shortcut icon" href="/assets/images/favicon.png" type="image/png" />
    <link rel="stylesheet" href="https://svgdotjs.github.io//assets/css/main.css?r=20170225092946">  </head>
  <body class="docs-svgjs">
  <div class="container">
  <header role="banner">
    <div class="wrap">
      <img src="/assets/images/logo-svg-js-01d-128.png" alt="SVG.js logo" class="svgjs-logo">
      <h1 class="site-title"><a class="title-link" href="https://svgdotjs.github.io/">SVG.js</a></h1>
                </div>
  </header>  <div class="wrap content">

    
<aside class="sidebar-menu">
  <p class="intro"><p>A lightweight library for manipulating and animating SVG</p></p>
  <a class="skip-link visuallyhidden focusable" href="#main">Skip to Main Content</a>

  <div class="search">
    <input name="q" type="text" placeholder="Search..." autocomplete="off">
    <ul class="results">
      <li class="result">
        nothing yet
      </li>
    </ul>
  </div>

  <nav class="sidebar-nav" role="navigation">
    <ul>
            <li class="group">

                
                                  <a href="https://svgdotjs.github.io/">Home</a>

                
        
      </li>
            <li class="group">

                
                                  <a href="https://svgdotjs.github.io//installation">Installation</a>

                
        
      </li>
            <li class="group">

                
                                  <a href="https://svgdotjs.github.io//usage">Usage</a>

                
        
      </li>
            <li class="group">

                          <button class="expand-subnav" aria-expanded="false" aria-controls="nav-collapsible-parents">+</button>
        
                                  <a href="https://svgdotjs.github.io//parents">Parents</a>

                        <ul class="submenu nav-children" id="nav-collapsible-parents" aria-hidden="true">
        
                            <li class="">
            
                        
                                                  <a href="#main-svg-document">Main svg document</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="#groups">Groups</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="#nested-svg">Nested svg</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="#defs">Defs</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="#hyperlink">Hyperlink</a>

                        
            
          </li>
                  </ul>
        
      </li>
            <li class="group">

                          <button class="expand-subnav" aria-expanded="false" aria-controls="nav-collapsible-elements">+</button>
        
                                  <a href="https://svgdotjs.github.io//elements">Elements</a>

                        <ul class="submenu nav-children" id="nav-collapsible-elements" aria-hidden="true">
        
                            <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/rect">Rect</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/circle">Circle</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/ellipse">Ellipse</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/line">Line</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/polyline">Polyline</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/polygon">Polygon</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/path">Path</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/text">Text</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="/elements/text#textpath">TextPath</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/tspan">Tspan</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/image">Image</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/gradient">Gradient</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/pattern">Pattern</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/use">Use</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/symbol">Symbol</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/marker">Marker</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//elements/bare">Bare</a>

                        
            
          </li>
                  </ul>
        
      </li>
            <li class="group">

                          <button class="expand-subnav" aria-expanded="false" aria-controls="nav-collapsible-referencing">+</button>
        
                                  <a href="https://svgdotjs.github.io//referencing">Referencing</a>

                        <ul class="submenu nav-children" id="nav-collapsible-referencing" aria-hidden="true">
        
                            <li class="">
            
                        
                                                  <a href="#circular-reference">Circular reference</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="#child-references">Child references</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="#parent-references">Parent references</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="#uri-references">URI references</a>

                        
            
          </li>
                  </ul>
        
      </li>
            <li class="group">

                          <button class="expand-subnav" aria-expanded="false" aria-controls="nav-collapsible-manipulating">+</button>
        
                                  <a href="https://svgdotjs.github.io//manipulating">Manipulating</a>

                        <ul class="submenu nav-children" id="nav-collapsible-manipulating" aria-hidden="true">
        
                            <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//manipulating/attributes">Attributes</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//manipulating/transforms">Transforms</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//manipulating/styles">Styles</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//manipulating/classes">Classes</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//manipulating/data">Data</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//manipulating/memory">Memory</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//manipulating/position">Position</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//manipulating/size">Size</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//manipulating/document-tree">Document Tree</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//manipulating/arranging">Arranging</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//manipulating/masking">Masking</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//manipulating/clipping">Clipping</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//manipulating/geometry">Geometry</a>

                        
            
          </li>
                  </ul>
        
      </li>
            <li class="group">

                          <button class="expand-subnav" aria-expanded="false" aria-controls="nav-collapsible-geometry">+</button>
        
                                  <a href="https://svgdotjs.github.io//geometry">Boxes</a>

                        <ul class="submenu nav-children" id="nav-collapsible-geometry" aria-hidden="true">
        
                            <li class="">
            
                        
                                                  <a href="#viewbox">ViewBox</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="#bbox">BBox</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="#rbox">RBox</a>

                        
            
          </li>
                  </ul>
        
      </li>
            <li class="group">

                          <button class="expand-subnav" aria-expanded="false" aria-controls="nav-collapsible-animating">+</button>
        
                                  <a href="https://svgdotjs.github.io//animating">Animating</a>

                        <ul class="submenu nav-children" id="nav-collapsible-animating" aria-hidden="true">
        
                            <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//animating/animate">Animate</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//animating/controlling">Controlling</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//animating/timing">Timing</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//animating/callbacks">Callbacks</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//animating/references">References</a>

                        
            
          </li>
                  </ul>
        
      </li>
            <li class="group">

                          <button class="expand-subnav" aria-expanded="false" aria-controls="nav-collapsible-events">+</button>
        
                                  <a href="https://svgdotjs.github.io//events">Events</a>

                        <ul class="submenu nav-children" id="nav-collapsible-events" aria-hidden="true">
        
                            <li class="">
            
                        
                                                  <a href="#basic-events">Basic events</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="#event-listeners">Event listeners</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="#custom-events">Custom events</a>

                        
            
          </li>
                  </ul>
        
      </li>
            <li class="group">

                          <button class="expand-subnav" aria-expanded="false" aria-controls="nav-collapsible-classes">+</button>
        
                                  <a href="https://svgdotjs.github.io//classes">Classes</a>

                        <ul class="submenu nav-children" id="nav-collapsible-classes" aria-hidden="true">
        
                            <li class="">
            
                                      <button class="expand-subnav expand-sub-subnav" aria-expanded="false" aria-controls="nav-collapsible-arrays">+</button>
            
                                                  <a href="https://svgdotjs.github.io//classes/arrays">Arrays</a>

                                    <ul class="submenu nav-children" id="nav-collapsible-arrays" aria-hidden="true">
            
                                        <li class="sidebar-nav-sub ">
                                                                  <a href="#svg-array">SVG.Array</a>
              </li>
                            <li class="sidebar-nav-sub ">
                                                                  <a href="#svg-pointarray">SVG.PointArray</a>
              </li>
                            <li class="sidebar-nav-sub ">
                                                                  <a href="#svg-patharray">SVG.PathArray</a>
              </li>
                          </ul>
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//classes/color">Color</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//classes/matrix">Matrix</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//classes/number">Number</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//classes/set">Set</a>

                        
            
          </li>
                  </ul>
        
      </li>
            <li class="group">

                
                                  <a href="https://svgdotjs.github.io//importing-exporting">Importing / Exporting</a>

                
        
      </li>
            <li class="group sidebar-nav-active">

                  <button class="expand-subnav" aria-expanded="true" aria-controls="nav-collapsible-extending">+</button>
                
                                  <a href="https://svgdotjs.github.io//extending">Extending</a>

                  <ul class="submenu nav-children" id="nav-collapsible-extending" aria-hidden="false">
                
                            <li class="">
            
                        
                                                  <a href="#svg-invent">SVG.invent</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="#svg-extend">SVG.extend</a>

                        
            
          </li>
                  </ul>
        
      </li>
            <li class="group">

                          <button class="expand-subnav" aria-expanded="false" aria-controls="nav-collapsible-plugins">+</button>
        
                                  <a href="https://svgdotjs.github.io//plugins">Plugins</a>

                        <ul class="submenu nav-children" id="nav-collapsible-plugins" aria-hidden="true">
        
                            <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-connectable-js">svg.connectable.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-easing-js">svg.easing.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-draw-js">svg.draw.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-draggable-js">svg.draggable.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-filter-js">svg.filter.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-foreignobject-js">svg.foreignobject.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-intersections-js">svg.intersections.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-math-js">svg.math.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-path-js">svg.path.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-pathmorphing-js">svg.pathmorphing.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-resize-js">svg.resize.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-screenbbox-js">svg.screenbbox.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-select-js">svg.select.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-shapes-js">svg.shapes.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-textmorph-js">svg.textmorph.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-topath-js">svg.topath.js</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//plugins/svg-topoly-js">svg.topoly.js</a>

                        
            
          </li>
                  </ul>
        
      </li>
            <li class="group">

                          <button class="expand-subnav" aria-expanded="false" aria-controls="nav-collapsible-contributing">+</button>
        
                                  <a href="https://svgdotjs.github.io//contributing">Contributing</a>

                        <ul class="submenu nav-children" id="nav-collapsible-contributing" aria-hidden="true">
        
                            <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//contributing/coding-style">Coding Style</a>

                        
            
          </li>
                    <li class="">
            
                        
                                                  <a href="https://svgdotjs.github.io//contributing/documentation">Documentation</a>

                        
            
          </li>
                  </ul>
        
      </li>
            <li class="group">

                
                                  <a href="https://svgdotjs.github.io//compatibility">Compatibility</a>

                
        
      </li>
            <li class="group">

                
                                  <a href="https://svgdotjs.github.io//acknowledgements-thanks">Acknowledgements &amp; Thanks</a>

                
        
      </li>
          </ul>    
  </nav>
</aside>

    <section id="main" class="main-content" role="main">
      <h1 id='extending'>Extending</h1>
<p>Due to the Object Oriented nature of SVG.js, objects/prototypes can be extended on any level. The <code>invent()</code> method provides a convenient way to implement your own functionality.</p>
<h2 id='svg-invent'>SVG.invent()</h2>
<p>Creating your own custom elements with SVG.js is a piece of cake thanks to the <code>SVG.invent</code> function. For the sake of this example, lets &quot;invent&quot; a shape. We want a <code>rect</code> with rounded corners that are always proportional to the height of the element. The new shape lives in the <code>SVG</code> namespace and is called <code>Rounded</code>. Here is how we achieve that.</p>
<pre><code class="language-javascript">SVG.Rounded = SVG.invent({
  // Define the type of element that should be created
  create: 'rect'

  // Specify from which existing class this shape inherits
, inherit: SVG.Shape

  // Add custom methods to invented shape
, extend: {
    // Create method to proportionally scale the rounded corners
    size: function(width, height) {
      return this.attr({
        width:  width
      , height: height
      , rx:     height / 5
      , ry:     height / 5
      })
    }
  }

  // Add method to parent elements
, construct: {
    // Create a rounded element
    rounded: function(width, height) {
      return this.put(new SVG.Rounded).size(width, height)
    }

  }
})</code></pre>
<p>To create the element in your drawing:</p>
<pre><code class="language-javascript">var rounded = draw.rounded(200, 100)</code></pre>
<p>That's it, the invention is now ready to be used!</p>
<h3 id='accepted-values'>Accepted values</h3>
<p>The <code>SVG.invent()</code> function always expects an object. The object can have the following configuration values:</p>
<ul>
<li><code>create</code>: can be either a string with the node name (e.g. <code>rect</code>, <code>ellipse</code>, ...) or a custom initializer function; <code>[required]</code></li>
<li><code>inherit</code>: the desired SVG.js class to inherit from (e.g. <code>SVG.Shape</code>, <code>SVG.Element</code>, <code>SVG.Container</code>, <code>SVG.Rect</code>, ...); <code>[optional but recommended]</code></li>
<li><code>extend</code>: an object with the methods that should be applied to the element's prototype; <code>[optional]</code></li>
<li><code>construct</code>: an object with the methods to create the element on the parent element; <code>[optional]</code></li>
<li><code>parent</code>: an SVG.js parent class on which the methods in the passed <code>construct</code> object should be available - defaults to <code>SVG.Container</code>; <code>[optional]</code></li>
</ul>
<h3 id='usage-notes'>Usage notes</h3>
<p>It should be emphasized that in the configuration object passed to <code>SVG.invent()</code>:</p>
<ul>
<li><code>construct</code> does not supply constructors, but rather methods that are likely to <em>call</em> constructors;</li>
<li><code>create</code> specifies the constructor for the type you are defining, and is not analogous to <code>Object.create()</code>.</li>
</ul>
<p>When defining specialized svg elements (such as <code>SVG.Rounded</code> in the example above), the function specified by <code>create</code> needs to do all the work of adding the element to the DOM for the svg document and connecting the DOM node to the SVG.js interface. All this is done automatically when the value of <code>create</code> is a string identifying an element type. If needed, see the source for a sense of how to do it explicitly.</p>
<p>Though the defaults are geared toward creating svg elements for the SVG.js framework, <code>SVG.invent()</code> can be used as a generalized function for defining types in Javascript. When used in this more general way, the function supplied as a value for <code>create</code> should be written as an ordinary JS constructor. (Indeed, the function is simply returned as the constructor for your newly defined type.)</p>
<p>Svg.js uses the <code>SVG.invent()</code> function to create all internal elements. A look at the source will show how this function is used in various ways.</p>
<h2 id='svg-extend'>SVG.extend()</h2>
<p>SVG.js has a modular structure. It is very easy to add your own methods at different levels. Let's say we want to add a method to all shape types then we would add our method to SVG.Shape:</p>
<pre><code class="language-javascript">SVG.extend(SVG.Shape, {
  paintRed: function() {
    return this.fill('red')
  }
})</code></pre>
<p>Now all shapes will have the paintRed method available. Say we want to have the paintRed method on an ellipse apply a slightly different color:</p>
<pre><code class="language-javascript">SVG.extend(SVG.Ellipse, {
  paintRed: function() {
    return this.fill('orangered')
  }
})
</code></pre>
<p>The complete inheritance stack for <code>SVG.Ellipse</code> is:</p>
<p><em><code>SVG.Element</code> &gt; <code>SVG.Shape</code> &gt; <code>SVG.Ellipse</code></em></p>
<p>The SVG document can be extended by using:</p>
<pre><code class="language-javascript">SVG.extend(SVG.Doc, {
  paintAllPink: function() {
    this.each(function() {
      this.fill('pink')
    })
  }
})</code></pre>
<p>You can also extend multiple elements at once:</p>
<pre><code class="language-javascript">SVG.extend(SVG.Ellipse, SVG.Path, SVG.Polygon, {
  paintRed: function() {
    return this.fill('orangered')
  }
})</code></pre>    </section>

  </div><!-- /.wrap content -->


<footer role="contentinfo">
  <div class="wrap">
    <p><a href="http://svgdotjs.github.io/">SVG.js</a> © 2012-2017 <a href="https://github.com/wout/" rel="noopener noreferrer" target="_blank">Wout Fierens</a> -  SVG.js is released under the terms of the MIT license.</p>  </div><!--/.wrap -->
</footer>

<a href="https://github.com/svgdotjs/svg.js">
  <img src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" class="fork-me-on-github">
</a>

<script src="https://svgdotjs.github.io//assets/js/libs/highlight.pack.js"></script><script src="https://svgdotjs.github.io//assets/js/libs/accordion-plain.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/2.3.6/svg.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/2.6.1/fuse.min.js"></script><script src="https://svgdotjs.github.io//search.js?r=20170225092946"></script><script src="https://svgdotjs.github.io//assets/js/kdoc.js?r=20170225092946"></script><script async defer src="https://buttons.github.io/buttons.js"></script>
<script src="//static.getclicky.com/js" type="text/javascript"></script>
<script type="text/javascript">try{ clicky.init(101014746); }catch(e){}</script>
</body>
</html>
</div> <!-- /.container -->
